CREATE TABLE admin_user_group (id BIGINT AUTO_INCREMENT, name VARCHAR(50) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE admin_user_group_vs_structure (name VARCHAR(50) DEFAULT 'noname' NOT NULL, permission BIGINT DEFAULT 0 NOT NULL, structure_id BIGINT, admin_user_group_id BIGINT, PRIMARY KEY(structure_id, admin_user_group_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE backend_module (id BIGINT AUTO_INCREMENT, module_name VARCHAR(50) NOT NULL, action VARCHAR(50) DEFAULT 'index' NOT NULL, title VARCHAR(50) NOT NULL, credential VARCHAR(50) DEFAULT NULL, frontend_module_id BIGINT NOT NULL, INDEX frontend_module_id_idx (frontend_module_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE banner (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, pri BIGINT DEFAULT 0 NOT NULL, type VARCHAR(255) DEFAULT 'default' NOT NULL, link TEXT, content TEXT, flash_vars TEXT, is_active TINYINT(1) DEFAULT '1' NOT NULL, displayed BIGINT DEFAULT 0 NOT NULL, clicked BIGINT DEFAULT 0 NOT NULL, file VARCHAR(255), width BIGINT DEFAULT 0 NOT NULL, height BIGINT DEFAULT 0 NOT NULL, banner_group_id BIGINT NOT NULL, INDEX banner_type_idx (type), INDEX banner_group_id_idx (banner_group_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE banner (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, pri BIGINT DEFAULT 0 NOT NULL, type VARCHAR(255) DEFAULT 'default' NOT NULL, link TEXT, content TEXT, flash_vars TEXT, is_active TINYINT(1) DEFAULT '1' NOT NULL, displayed BIGINT DEFAULT 0 NOT NULL, clicked BIGINT DEFAULT 0 NOT NULL, file VARCHAR(255), width BIGINT DEFAULT 0 NOT NULL, height BIGINT DEFAULT 0 NOT NULL, banner_group_id BIGINT NOT NULL, INDEX banner_group_id_idx (banner_group_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE banner_group (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, type VARCHAR(255) DEFAULT 'default' NOT NULL, height BIGINT DEFAULT 0 NOT NULL, width BIGINT DEFAULT 0 NOT NULL, is_active TINYINT(1) DEFAULT '1' NOT NULL, banners_limit BIGINT DEFAULT 0 NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE banner_group_vs_product (banner_group_id BIGINT, product_id BIGINT, PRIMARY KEY(banner_group_id, product_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE banner_group_vs_product_group (banner_group_id BIGINT, product_group_id BIGINT, PRIMARY KEY(banner_group_id, product_group_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE banner_group_vs_structure (banner_group_id BIGINT, structure_id BIGINT, PRIMARY KEY(banner_group_id, structure_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE catalogue (cat_id INT UNSIGNED AUTO_INCREMENT, name VARCHAR(63) DEFAULT '' NOT NULL, source_lang VARCHAR(63) DEFAULT '' NOT NULL, target_lang VARCHAR(63) DEFAULT '' NOT NULL, date_created INT UNSIGNED DEFAULT 0 NOT NULL, date_modified INT UNSIGNED DEFAULT 0 NOT NULL, author VARCHAR(63) DEFAULT '' NOT NULL, PRIMARY KEY(cat_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE cinema_translation (id BIGINT, name VARCHAR(255) NOT NULL, lang CHAR(2), PRIMARY KEY(id, lang)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE cinema (id BIGINT AUTO_INCREMENT, eventival_id BIGINT NOT NULL, city VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE cinema_hall_translation (id BIGINT, name VARCHAR(255) NOT NULL, lang CHAR(2), PRIMARY KEY(id, lang)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE cinema_hall (id BIGINT AUTO_INCREMENT, eventival_id BIGINT NOT NULL, cinema_id BIGINT NOT NULL, INDEX cinema_id_idx (cinema_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE currency (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, factor DECIMAL(18, 3) DEFAULT 1 NOT NULL, symbol VARCHAR(255), abbr VARCHAR(255) NOT NULL, prefix TINYINT(1) DEFAULT '0', language_id BIGINT, INDEX language_id_idx (language_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE frontend_module (id BIGINT AUTO_INCREMENT, name VARCHAR(50) NOT NULL, action VARCHAR(50) DEFAULT 'render' NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE language (id BIGINT AUTO_INCREMENT, url VARCHAR(255) NOT NULL, abr VARCHAR(255) NOT NULL, title_est VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE new_item (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, description TEXT, content TEXT, active_start DATETIME, active_end DATETIME, source VARCHAR(255), tags TEXT, group_id BIGINT NOT NULL, pri BIGINT DEFAULT 0 NOT NULL, picture VARCHAR(255), type VARCHAR(255) DEFAULT 'default' NOT NULL, slug VARCHAR(255), UNIQUE INDEX sluggable_idx (slug), INDEX group_id_idx (group_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE news_group (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, type VARCHAR(255) DEFAULT 'default' NOT NULL, pri BIGINT DEFAULT 0 NOT NULL, is_active TINYINT(1) DEFAULT '1' NOT NULL, link_to_struct BIGINT, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE news_group_vs_structure (group_id BIGINT, structure_id BIGINT, PRIMARY KEY(group_id, structure_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE parameter_translation (id BIGINT, name VARCHAR(255), unit_name VARCHAR(255), lang CHAR(2), PRIMARY KEY(id, lang)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE parameter (id BIGINT AUTO_INCREMENT, title VARCHAR(255) NOT NULL, multilang TINYINT(1) DEFAULT '0' NOT NULL, group_id BIGINT NOT NULL, type VARCHAR(255) NOT NULL, required TINYINT(1) DEFAULT '0' NOT NULL, is_filter TINYINT(1) DEFAULT '1' NOT NULL, pri BIGINT DEFAULT 0 NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, created_by BIGINT, updated_by BIGINT, INDEX parameter_type_idx (type), INDEX group_id_idx (group_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE parameter (id BIGINT AUTO_INCREMENT, title VARCHAR(255) NOT NULL, multilang TINYINT(1) DEFAULT '0' NOT NULL, group_id BIGINT NOT NULL, type VARCHAR(255) NOT NULL, required TINYINT(1) DEFAULT '0' NOT NULL, is_filter TINYINT(1) DEFAULT '1' NOT NULL, pri BIGINT DEFAULT 0 NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, created_by BIGINT, updated_by BIGINT, INDEX group_id_idx (group_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE parameter_group_translation (id BIGINT, name VARCHAR(255), lang CHAR(2), PRIMARY KEY(id, lang)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE parameter_group (id BIGINT AUTO_INCREMENT, title VARCHAR(255) NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, lft INT, rgt INT, level SMALLINT, created_by BIGINT, updated_by BIGINT, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE parameter_option_translation (id BIGINT, name VARCHAR(255), lang CHAR(2), PRIMARY KEY(id, lang)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE parameter_option (id BIGINT AUTO_INCREMENT, param_id BIGINT NOT NULL, title VARCHAR(255), pri BIGINT DEFAULT 0 NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, created_by BIGINT, updated_by BIGINT, INDEX param_id_idx (param_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE parameter_product_option (option_id BIGINT, product_id BIGINT, priceadd FLOAT(18, 2) DEFAULT 0 NOT NULL, PRIMARY KEY(option_id, product_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE parameter_product_value_translation (id BIGINT, value TEXT, filename VARCHAR(255), lang CHAR(2), PRIMARY KEY(id, lang)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE parameter_product_value (id BIGINT AUTO_INCREMENT, param_id BIGINT NOT NULL, product_id BIGINT NOT NULL, common_value TEXT, common_filename VARCHAR(255), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, created_by BIGINT, updated_by BIGINT, INDEX param_id_idx (param_id), INDEX product_id_idx (product_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE placeholder (id BIGINT AUTO_INCREMENT, frontend_module_id BIGINT NOT NULL, structure_id BIGINT NOT NULL, action VARCHAR(50) DEFAULT 'render' NOT NULL, name VARCHAR(50) DEFAULT 'noname', pri BIGINT DEFAULT 0 NOT NULL, INDEX frontend_module_id_idx (frontend_module_id), INDEX structure_id_idx (structure_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE placeholders_vs_modules (id BIGINT AUTO_INCREMENT, placeholder VARCHAR(255) NOT NULL, frontend_module_id BIGINT NOT NULL, INDEX frontend_module_id_idx (frontend_module_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE product_translation (id BIGINT, slug VARCHAR(255) DEFAULT '' NOT NULL, country VARCHAR(255), critics TEXT, language TEXT, name TEXT, description TEXT, volume VARCHAR(255), longdescription TEXT, lang CHAR(2), PRIMARY KEY(id, lang)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE product (id BIGINT AUTO_INCREMENT, code VARCHAR(255) NOT NULL UNIQUE, original_title TEXT, producer VARCHAR(255), trailer_link TEXT, synopsis LONGTEXT, producer_description TEXT, type VARCHAR(255), parameter VARCHAR(255) DEFAULT 'default', year BIGINT, pri BIGINT DEFAULT 100 NOT NULL, rating_sum BIGINT DEFAULT 5 NOT NULL, rating_votes BIGINT DEFAULT 1 NOT NULL, price FLOAT(18, 2), is_active TINYINT(1) DEFAULT '1' NOT NULL, vatrate BIGINT DEFAULT 20, mass FLOAT(18, 2) DEFAULT 0 NOT NULL, discount_price FLOAT(18, 2), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, created_by BIGINT, updated_by BIGINT, INDEX myindex_idx (pri), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE product_comment (id BIGINT AUTO_INCREMENT, product_id BIGINT NOT NULL, name VARCHAR(255) NOT NULL, message TEXT NOT NULL, ip VARCHAR(255), host VARCHAR(255), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX product_id_idx (product_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE product_exemplar_translation (id BIGINT, comment TEXT, lang CHAR(2), PRIMARY KEY(id, lang)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE product_exemplar (id BIGINT AUTO_INCREMENT, code VARCHAR(255) NOT NULL, location VARCHAR(255) NOT NULL, scheduled_time DATETIME, product_id BIGINT NOT NULL, buy_link VARCHAR(255), cinema VARCHAR(255) NOT NULL, eventival_id BIGINT, INDEX product_id_idx (product_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE product_exemplar_vs_public_user (exemplar_id BIGINT, user_id BIGINT, PRIMARY KEY(exemplar_id, user_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE product_file_translation (id BIGINT, name VARCHAR(255), lang CHAR(2), PRIMARY KEY(id, lang)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE product_file (id BIGINT AUTO_INCREMENT, file VARCHAR(255) NOT NULL, pri BIGINT DEFAULT 0 NOT NULL, original_filename VARCHAR(255), parameter VARCHAR(255) DEFAULT 'default' NOT NULL, product_id BIGINT NOT NULL, INDEX product_id_idx (product_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE product_group_translation (id BIGINT, slug VARCHAR(255) DEFAULT '' NOT NULL, description TEXT, meta_title TEXT, meta_description TEXT, meta_keywords TEXT, name TEXT, lang CHAR(2), PRIMARY KEY(id, lang)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE product_group (id BIGINT AUTO_INCREMENT, title VARCHAR(255) NOT NULL, picture VARCHAR(255), picture_inactive VARCHAR(255), import_code VARCHAR(255), pri BIGINT, parameter VARCHAR(255) DEFAULT 'default', lft INT, rgt INT, level SMALLINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, created_by BIGINT, updated_by BIGINT, INDEX myindex_idx (pri), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE product_group_vs_parameter_group (prodgroup_id BIGINT, paramgroup_id BIGINT, PRIMARY KEY(prodgroup_id, paramgroup_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE product_group_vs_structure (group_id BIGINT, structure_id BIGINT, PRIMARY KEY(group_id, structure_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE product_order (id BIGINT AUTO_INCREMENT, public_user_id BIGINT NOT NULL, order_number VARCHAR(255) NOT NULL UNIQUE, price_currency VARCHAR(255), pay_in_currency VARCHAR(255) DEFAULT 'EUR', user_culture VARCHAR(255) DEFAULT 'et', is_archived TINYINT(1) DEFAULT '0' NOT NULL, is_hidden TINYINT(1) DEFAULT '0' NOT NULL, invoice_mailed TINYINT(1) DEFAULT '0' NOT NULL, ticket VARCHAR(255), ip VARCHAR(255), buyer_email VARCHAR(255), title VARCHAR(255), notes VARCHAR(255), status VARCHAR(255), raw_response LONGTEXT, type VARCHAR(255), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX product_order_type_idx (type), INDEX public_user_id_idx (public_user_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE product_order_billing (id BIGINT AUTO_INCREMENT, country VARCHAR(255), city VARCHAR(255), street VARCHAR(255), zip VARCHAR(255), receiver VARCHAR(255), email VARCHAR(255), order_id BIGINT NOT NULL, INDEX order_id_idx (order_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE product_order_item (id BIGINT AUTO_INCREMENT, order_id BIGINT NOT NULL, price_currency VARCHAR(255), product_id BIGINT, mass BIGINT, vatrate BIGINT, code VARCHAR(255), order_shipping_id BIGINT NOT NULL, name VARCHAR(255), quanity BIGINT, price FLOAT(18, 2), INDEX order_id_idx (order_id), INDEX product_id_idx (product_id), INDEX order_shipping_id_idx (order_shipping_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE product_order (id BIGINT AUTO_INCREMENT, public_user_id BIGINT NOT NULL, order_number VARCHAR(255) NOT NULL UNIQUE, price_currency VARCHAR(255), pay_in_currency VARCHAR(255) DEFAULT 'EUR', user_culture VARCHAR(255) DEFAULT 'et', is_archived TINYINT(1) DEFAULT '0' NOT NULL, is_hidden TINYINT(1) DEFAULT '0' NOT NULL, invoice_mailed TINYINT(1) DEFAULT '0' NOT NULL, ticket VARCHAR(255), ip VARCHAR(255), buyer_email VARCHAR(255), title VARCHAR(255), notes VARCHAR(255), status VARCHAR(255), raw_response LONGTEXT, type VARCHAR(255), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX public_user_id_idx (public_user_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE product_order_shipping (id BIGINT AUTO_INCREMENT, information TEXT, name VARCHAR(255), vatrate BIGINT, cost VARCHAR(255) DEFAULT '0', price_currency VARCHAR(255), mass_interval_start BIGINT, mass_interval_end BIGINT, order_id BIGINT NOT NULL, INDEX order_id_idx (order_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE product_order_vs_product (product_id BIGINT, order_id BIGINT, PRIMARY KEY(product_id, order_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE product_pictures_translation (id BIGINT, name VARCHAR(255), lang CHAR(2), PRIMARY KEY(id, lang)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE product_pictures (id BIGINT AUTO_INCREMENT, file VARCHAR(255) NOT NULL, pri BIGINT DEFAULT 0 NOT NULL, original_filename VARCHAR(255), parameter VARCHAR(255) DEFAULT 'default' NOT NULL, product_id BIGINT NOT NULL, INDEX myindex_idx (pri), INDEX parameterindex_idx (parameter), INDEX product_id_idx (product_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE product_vs_product (product1 BIGINT, product2 BIGINT, PRIMARY KEY(product1, product2)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE product_vs_product_group (group_id BIGINT, product_id BIGINT, PRIMARY KEY(group_id, product_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE public_user (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, email VARCHAR(255) NOT NULL, currency VARCHAR(255), login VARCHAR(255) NOT NULL UNIQUE, password VARCHAR(255) NOT NULL, address1 VARCHAR(255), address2 VARCHAR(255), city VARCHAR(255), state VARCHAR(255), country VARCHAR(255), zip VARCHAR(255), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE public_user_addresses (id BIGINT AUTO_INCREMENT, public_user_id BIGINT, title VARCHAR(255) DEFAULT 'new address' NOT NULL, name VARCHAR(255) NOT NULL, address VARCHAR(255) NOT NULL, city VARCHAR(255), state VARCHAR(255), country VARCHAR(255), zip VARCHAR(255), INDEX public_user_id_idx (public_user_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE shipping_zone_translation (id BIGINT, name VARCHAR(255), lang CHAR(2), PRIMARY KEY(id, lang)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE shipping_zone (id BIGINT AUTO_INCREMENT, fake VARCHAR(255), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE shipping_zone_interval (id BIGINT AUTO_INCREMENT, my_zone_id BIGINT NOT NULL, start BIGINT NOT NULL, end BIGINT NOT NULL, price FLOAT(18, 2) NOT NULL, INDEX my_zone_id_idx (my_zone_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE shop_translation (id BIGINT, address text, lang CHAR(2), PRIMARY KEY(id, lang)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE shop (id BIGINT AUTO_INCREMENT, title VARCHAR(255), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE structure (id BIGINT AUTO_INCREMENT, title VARCHAR(255) NOT NULL, parameter VARCHAR(255) DEFAULT '' NOT NULL, picture VARCHAR(255), content text DEFAULT NULL, inherits_layout TINYINT(1) DEFAULT '1' NOT NULL, type VARCHAR(50) DEFAULT 'standard' NOT NULL, description TEXT, pagetitle VARCHAR(255), layout VARCHAR(255) DEFAULT 'layout' NOT NULL, metadescription TEXT, metakeywords TEXT, status VARCHAR(255) DEFAULT '0' NOT NULL, is_first TINYINT(1) DEFAULT '0' NOT NULL, lang VARCHAR(10) NOT NULL, pri BIGINT DEFAULT 0 NOT NULL, parentid BIGINT, ishidden TINYINT(1) DEFAULT '0' NOT NULL, slug VARCHAR(255), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, lft INT, rgt INT, level SMALLINT, created_by BIGINT, updated_by BIGINT, INDEX structure_type_idx (type), INDEX parentid_idx (parentid), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE structure (id BIGINT AUTO_INCREMENT, title VARCHAR(255) NOT NULL, parameter VARCHAR(255) DEFAULT '' NOT NULL, picture VARCHAR(255), content text DEFAULT NULL, inherits_layout TINYINT(1) DEFAULT '1' NOT NULL, type VARCHAR(50) DEFAULT 'standard' NOT NULL, description TEXT, pagetitle VARCHAR(255), layout VARCHAR(255) DEFAULT 'layout' NOT NULL, metadescription TEXT, metakeywords TEXT, status VARCHAR(255) DEFAULT '0' NOT NULL, is_first TINYINT(1) DEFAULT '0' NOT NULL, lang VARCHAR(10) NOT NULL, pri BIGINT DEFAULT 0 NOT NULL, parentid BIGINT, ishidden TINYINT(1) DEFAULT '0' NOT NULL, slug VARCHAR(255), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, lft INT, rgt INT, level SMALLINT, created_by BIGINT, updated_by BIGINT, INDEX parentid_idx (parentid), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE trans_unit (msg_id INT UNSIGNED AUTO_INCREMENT, cat_id INT UNSIGNED DEFAULT 1 NOT NULL, id VARCHAR(63), source TEXT NOT NULL, target TEXT, comments VARCHAR(63), type VARCHAR(255) DEFAULT NULL, date_created INT UNSIGNED DEFAULT 0 NOT NULL, date_modified INT UNSIGNED DEFAULT 0 NOT NULL, author VARCHAR(63) DEFAULT '' NOT NULL, translated INT UNSIGNED DEFAULT 0 NOT NULL, variable_id BIGINT, INDEX cat_id_idx (cat_id), INDEX variable_id_idx (variable_id), PRIMARY KEY(msg_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE trans_unit_variable (id BIGINT AUTO_INCREMENT, variable VARCHAR(255) NOT NULL UNIQUE, multilang TINYINT(1) DEFAULT '1' NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE sf_guard_group (id INT AUTO_INCREMENT, name VARCHAR(255) UNIQUE, description TEXT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE sf_guard_group_permission (group_id INT, permission_id INT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(group_id, permission_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE sf_guard_permission (id INT AUTO_INCREMENT, name VARCHAR(255) UNIQUE, description TEXT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE sf_guard_remember_key (id INT AUTO_INCREMENT, user_id INT, remember_key VARCHAR(32), ip_address VARCHAR(50), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX user_id_idx (user_id), PRIMARY KEY(id, ip_address)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE sf_guard_user (id INT AUTO_INCREMENT, admin_user_group_id BIGINT NOT NULL, username VARCHAR(128) NOT NULL UNIQUE, algorithm VARCHAR(128) DEFAULT 'sha1' NOT NULL, salt VARCHAR(128), password VARCHAR(128), is_active TINYINT(1) DEFAULT '1', is_super_admin TINYINT(1) DEFAULT '0', last_login DATETIME, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX is_active_idx_idx (is_active), INDEX admin_user_group_id_idx (admin_user_group_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE sf_guard_user_group (user_id INT, group_id INT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(user_id, group_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE sf_guard_user_permission (user_id INT, permission_id INT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(user_id, permission_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
ALTER TABLE admin_user_group_vs_structure ADD CONSTRAINT admin_user_group_vs_structure_structure_id_structure_id FOREIGN KEY (structure_id) REFERENCES structure(id) ON DELETE CASCADE;
ALTER TABLE admin_user_group_vs_structure ADD CONSTRAINT aaai FOREIGN KEY (admin_user_group_id) REFERENCES admin_user_group(id) ON DELETE CASCADE;
ALTER TABLE backend_module ADD CONSTRAINT backend_module_frontend_module_id_frontend_module_id FOREIGN KEY (frontend_module_id) REFERENCES frontend_module(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE banner ADD CONSTRAINT banner_banner_group_id_banner_group_id FOREIGN KEY (banner_group_id) REFERENCES banner_group(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE banner_group_vs_product ADD CONSTRAINT banner_group_vs_product_product_id_product_id FOREIGN KEY (product_id) REFERENCES product(id);
ALTER TABLE banner_group_vs_product ADD CONSTRAINT banner_group_vs_product_banner_group_id_banner_group_id FOREIGN KEY (banner_group_id) REFERENCES banner_group(id);
ALTER TABLE banner_group_vs_product_group ADD CONSTRAINT banner_group_vs_product_group_product_group_id_product_group_id FOREIGN KEY (product_group_id) REFERENCES product_group(id);
ALTER TABLE banner_group_vs_product_group ADD CONSTRAINT banner_group_vs_product_group_banner_group_id_banner_group_id FOREIGN KEY (banner_group_id) REFERENCES banner_group(id);
ALTER TABLE banner_group_vs_structure ADD CONSTRAINT banner_group_vs_structure_structure_id_structure_id FOREIGN KEY (structure_id) REFERENCES structure(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE banner_group_vs_structure ADD CONSTRAINT banner_group_vs_structure_banner_group_id_banner_group_id FOREIGN KEY (banner_group_id) REFERENCES banner_group(id);
ALTER TABLE cinema_translation ADD CONSTRAINT cinema_translation_id_cinema_id FOREIGN KEY (id) REFERENCES cinema(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE cinema_hall_translation ADD CONSTRAINT cinema_hall_translation_id_cinema_hall_id FOREIGN KEY (id) REFERENCES cinema_hall(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE cinema_hall ADD CONSTRAINT cinema_hall_cinema_id_cinema_id FOREIGN KEY (cinema_id) REFERENCES cinema(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE currency ADD CONSTRAINT currency_language_id_language_id FOREIGN KEY (language_id) REFERENCES language(id);
ALTER TABLE new_item ADD CONSTRAINT new_item_group_id_news_group_id FOREIGN KEY (group_id) REFERENCES news_group(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE news_group_vs_structure ADD CONSTRAINT news_group_vs_structure_structure_id_structure_id FOREIGN KEY (structure_id) REFERENCES structure(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE news_group_vs_structure ADD CONSTRAINT news_group_vs_structure_group_id_news_group_id FOREIGN KEY (group_id) REFERENCES news_group(id);
ALTER TABLE parameter_translation ADD CONSTRAINT parameter_translation_id_parameter_id FOREIGN KEY (id) REFERENCES parameter(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE parameter ADD CONSTRAINT parameter_group_id_parameter_group_id FOREIGN KEY (group_id) REFERENCES parameter_group(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE parameter_group_translation ADD CONSTRAINT parameter_group_translation_id_parameter_group_id FOREIGN KEY (id) REFERENCES parameter_group(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE parameter_option_translation ADD CONSTRAINT parameter_option_translation_id_parameter_option_id FOREIGN KEY (id) REFERENCES parameter_option(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE parameter_option ADD CONSTRAINT parameter_option_param_id_parameter_id FOREIGN KEY (param_id) REFERENCES parameter(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE parameter_product_option ADD CONSTRAINT parameter_product_option_product_id_product_id FOREIGN KEY (product_id) REFERENCES product(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE parameter_product_option ADD CONSTRAINT parameter_product_option_option_id_parameter_option_id FOREIGN KEY (option_id) REFERENCES parameter_option(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE parameter_product_value_translation ADD CONSTRAINT pipi_1 FOREIGN KEY (id) REFERENCES parameter_product_value(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE parameter_product_value ADD CONSTRAINT parameter_product_value_product_id_product_id FOREIGN KEY (product_id) REFERENCES product(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE parameter_product_value ADD CONSTRAINT parameter_product_value_param_id_parameter_id FOREIGN KEY (param_id) REFERENCES parameter(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE placeholder ADD CONSTRAINT placeholder_structure_id_structure_id FOREIGN KEY (structure_id) REFERENCES structure(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE placeholder ADD CONSTRAINT placeholder_frontend_module_id_frontend_module_id FOREIGN KEY (frontend_module_id) REFERENCES frontend_module(id);
ALTER TABLE placeholders_vs_modules ADD CONSTRAINT placeholders_vs_modules_frontend_module_id_frontend_module_id FOREIGN KEY (frontend_module_id) REFERENCES frontend_module(id) ON DELETE CASCADE;
ALTER TABLE product_translation ADD CONSTRAINT product_translation_id_product_id FOREIGN KEY (id) REFERENCES product(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE product_comment ADD CONSTRAINT product_comment_product_id_product_id FOREIGN KEY (product_id) REFERENCES product(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE product_exemplar_translation ADD CONSTRAINT product_exemplar_translation_id_product_exemplar_id FOREIGN KEY (id) REFERENCES product_exemplar(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE product_exemplar ADD CONSTRAINT product_exemplar_product_id_product_id FOREIGN KEY (product_id) REFERENCES product(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE product_exemplar_vs_public_user ADD CONSTRAINT product_exemplar_vs_public_user_user_id_public_user_id FOREIGN KEY (user_id) REFERENCES public_user(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE product_exemplar_vs_public_user ADD CONSTRAINT product_exemplar_vs_public_user_exemplar_id_product_exemplar_id FOREIGN KEY (exemplar_id) REFERENCES product_exemplar(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE product_file_translation ADD CONSTRAINT product_file_translation_id_product_file_id FOREIGN KEY (id) REFERENCES product_file(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE product_file ADD CONSTRAINT product_file_product_id_product_id FOREIGN KEY (product_id) REFERENCES product(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE product_group_translation ADD CONSTRAINT product_group_translation_id_product_group_id FOREIGN KEY (id) REFERENCES product_group(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE product_group_vs_parameter_group ADD CONSTRAINT product_group_vs_parameter_group_prodgroup_id_product_group_id FOREIGN KEY (prodgroup_id) REFERENCES product_group(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE product_group_vs_parameter_group ADD CONSTRAINT pppi FOREIGN KEY (paramgroup_id) REFERENCES parameter_group(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE product_group_vs_structure ADD CONSTRAINT product_group_vs_structure_structure_id_structure_id FOREIGN KEY (structure_id) REFERENCES structure(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE product_group_vs_structure ADD CONSTRAINT product_group_vs_structure_group_id_product_group_id FOREIGN KEY (group_id) REFERENCES product_group(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE product_order ADD CONSTRAINT product_order_public_user_id_public_user_id FOREIGN KEY (public_user_id) REFERENCES public_user(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE product_order_billing ADD CONSTRAINT product_order_billing_order_id_product_order_id FOREIGN KEY (order_id) REFERENCES product_order(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE product_order_item ADD CONSTRAINT product_order_item_product_id_product_id FOREIGN KEY (product_id) REFERENCES product(id) ON UPDATE SET NULL ON DELETE SET NULL;
ALTER TABLE product_order_item ADD CONSTRAINT product_order_item_order_shipping_id_product_order_shipping_id FOREIGN KEY (order_shipping_id) REFERENCES product_order_shipping(id);
ALTER TABLE product_order_item ADD CONSTRAINT product_order_item_order_id_product_order_id FOREIGN KEY (order_id) REFERENCES product_order(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE product_order_shipping ADD CONSTRAINT product_order_shipping_order_id_product_order_id FOREIGN KEY (order_id) REFERENCES product_order(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE product_order_vs_product ADD CONSTRAINT product_order_vs_product_product_id_product_id FOREIGN KEY (product_id) REFERENCES product(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE product_order_vs_product ADD CONSTRAINT product_order_vs_product_order_id_product_order_id FOREIGN KEY (order_id) REFERENCES product_order(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE product_pictures_translation ADD CONSTRAINT product_pictures_translation_id_product_pictures_id FOREIGN KEY (id) REFERENCES product_pictures(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE product_pictures ADD CONSTRAINT product_pictures_product_id_product_id FOREIGN KEY (product_id) REFERENCES product(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE product_vs_product ADD CONSTRAINT product_vs_product_product1_product_id FOREIGN KEY (product1) REFERENCES product(id);
ALTER TABLE product_vs_product_group ADD CONSTRAINT product_vs_product_group_product_id_product_id FOREIGN KEY (product_id) REFERENCES product(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE product_vs_product_group ADD CONSTRAINT product_vs_product_group_group_id_product_group_id FOREIGN KEY (group_id) REFERENCES product_group(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE public_user_addresses ADD CONSTRAINT public_user_addresses_public_user_id_public_user_id FOREIGN KEY (public_user_id) REFERENCES public_user(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE shipping_zone_translation ADD CONSTRAINT shipping_zone_translation_id_shipping_zone_id FOREIGN KEY (id) REFERENCES shipping_zone(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE shipping_zone_interval ADD CONSTRAINT shipping_zone_interval_my_zone_id_shipping_zone_id FOREIGN KEY (my_zone_id) REFERENCES shipping_zone(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE shop_translation ADD CONSTRAINT shop_translation_id_shop_id FOREIGN KEY (id) REFERENCES shop(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE structure ADD CONSTRAINT structure_parentid_structure_id FOREIGN KEY (parentid) REFERENCES structure(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE trans_unit ADD CONSTRAINT trans_unit_variable_id_trans_unit_variable_id FOREIGN KEY (variable_id) REFERENCES trans_unit_variable(id) ON DELETE CASCADE;
ALTER TABLE trans_unit ADD CONSTRAINT trans_unit_cat_id_catalogue_cat_id FOREIGN KEY (cat_id) REFERENCES catalogue(cat_id) ON DELETE CASCADE;
ALTER TABLE sf_guard_group_permission ADD CONSTRAINT sf_guard_group_permission_permission_id_sf_guard_permission_id FOREIGN KEY (permission_id) REFERENCES sf_guard_permission(id) ON DELETE CASCADE;
ALTER TABLE sf_guard_group_permission ADD CONSTRAINT sf_guard_group_permission_group_id_sf_guard_group_id FOREIGN KEY (group_id) REFERENCES sf_guard_group(id) ON DELETE CASCADE;
ALTER TABLE sf_guard_remember_key ADD CONSTRAINT sf_guard_remember_key_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE;
ALTER TABLE sf_guard_user ADD CONSTRAINT sf_guard_user_admin_user_group_id_admin_user_group_id FOREIGN KEY (admin_user_group_id) REFERENCES admin_user_group(id) ON DELETE CASCADE;
ALTER TABLE sf_guard_user_group ADD CONSTRAINT sf_guard_user_group_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE;
ALTER TABLE sf_guard_user_group ADD CONSTRAINT sf_guard_user_group_group_id_sf_guard_group_id FOREIGN KEY (group_id) REFERENCES sf_guard_group(id) ON DELETE CASCADE;
ALTER TABLE sf_guard_user_permission ADD CONSTRAINT sf_guard_user_permission_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE;
ALTER TABLE sf_guard_user_permission ADD CONSTRAINT sf_guard_user_permission_permission_id_sf_guard_permission_id FOREIGN KEY (permission_id) REFERENCES sf_guard_permission(id) ON DELETE CASCADE;
